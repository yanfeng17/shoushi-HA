name: "MediaPipe 手势识别"
version: "2.1.2"
slug: mediapipe_gesture_control
description: "基于 MediaPipe 的实时手势识别系统"
url: "https://github.com/yanfeng17/shoushi-HA"
arch:
  - aarch64
  - amd64
  - armhf
  - armv7
  - i386
init: false
startup: application
boot: auto
host_network: true

options:
  # RTSP 配置
  rtsp_url: "rtsp://admin:password@192.168.1.100:554/stream1"
  rtsp_reconnect_delay: 5
  
  # MQTT 配置
  mqtt_broker: "core-mosquitto"
  mqtt_port: 1883
  mqtt_username: ""
  mqtt_password: ""
  
  # 视频处理
  frame_width: 320
  frame_height: 240
  target_fps: 15
  skip_frames: 1
  
  # MediaPipe 手部检测（v2.1.2 - Google 默认值）
  min_detection_confidence: 0.5
  min_tracking_confidence: 0.5
  
  # 手势识别
  gesture_confidence_threshold: 0.5
  gesture_min_detections: 2
  gesture_cooldown: 1.5
  
  # 手势开关（v2.1.0 - Google Gesture Recognizer 内置 7 种手势）
  enable_closed_fist: true
  enable_open_palm: true
  enable_pointing_up: true
  enable_thumbs_down: true
  enable_thumbs_up: true
  enable_peace: true
  enable_i_love_you: true
  
  # 日志
  log_level: "INFO"

schema:
  # RTSP
  rtsp_url: str
  rtsp_reconnect_delay: int(1,60)?
  
  # MQTT
  mqtt_broker: str
  mqtt_port: port
  mqtt_username: str?
  mqtt_password: password?
  
  # 视频
  frame_width: int(160,1920)?
  frame_height: int(120,1080)?
  target_fps: int(5,30)?
  skip_frames: int(1,5)?
  
  # MediaPipe 手部检测
  min_detection_confidence: float(0.3,1.0)?
  min_tracking_confidence: float(0.3,1.0)?
  
  # 手势识别
  gesture_confidence_threshold: float(0.3,1.0)?
  gesture_min_detections: int(2,10)?
  gesture_cooldown: float(0.5,10.0)?
  
  # 手势开关（v2.1.0 - Google Gesture Recognizer）
  enable_closed_fist: bool?
  enable_open_palm: bool?
  enable_pointing_up: bool?
  enable_thumbs_down: bool?
  enable_thumbs_up: bool?
  enable_peace: bool?
  enable_i_love_you: bool?
  
  # 日志
  log_level: list(DEBUG|INFO|WARNING|ERROR)?
